<html>
  <head>
    <script>
      // Check if IntersectionObserver is supported
      if ("IntersectionObserver" in window) {
        // Define the observer
        const observer = new IntersectionObserver((entries) => {
          // Loop through each entry
          entries.forEach((entry) => {
            // If the entry is intersecting
            if (entry.isIntersecting) {
              // Load the video
              const video = entry.target;
              video.src = video.dataset.src;
              video.play();
              // Stop observing the video
              observer.unobserve(video);
            }
          });
        });

        // Get all videos with a data-src attribute
        const videos = document.querySelectorAll("video[data-src]");
        // Observe each video
        videos.forEach((video) => {
          observer.observe(video);
        });
      } else {
        // Load all videos if IntersectionObserver is not supported
        const videos = document.querySelectorAll("video");
        videos.forEach((video) => {
          video.src = video.dataset.src;
          video.play();
        });
      }
    </script>
  </head>
  <body>
    <video data-src="video1.mp4" controls></video>
    <video data-src="video2.mp4" controls></video>
    <video data-src="video3.mp4" controls></video>
  </body>
</html>

